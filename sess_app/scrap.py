import requests
import urllib.request
import time
import json
import bs4
import os
from bs4 import BeautifulSoup

"""
    To generate request headers and data:
        1. open developer tools in browser
        1. navigate to page
        2. track requests in network tab and copy as cURL
        3. use https://curl.trillworks.com/ to generate python requests
"""

SEMESTER = str(input('semester: '))

try:
    os.stat(SEMESTER)
except:
    os.mkdir(SEMESTER)


def get_departments():
    print('Getting Departments')
    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/271312760504',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8',
        'cookie': '__derak_session=548b6955-f341-4b6b-cb87-c9490f9776d9; ASP.NET_SessionId=cfiz0q04bdsrmnjl3ewdxl2d',
    }

    response = requests.get('https://sess.shirazu.ac.ir/Sess/3283227265579', headers=headers, )

    soup = BeautifulSoup(response.text, "html.parser")

    departments = []
    dep_select = soup.find("select", {'id': "edDepartment"})
    if dep_select == None:
        raise Exception('session is out')
    for dep_option in dep_select.contents:
        if dep_option == '\n' or dep_option['value'] == '0':
            continue
        departments.append({
            'id': dep_option['value'],
            'title': dep_option.text,
        })
    f = open('departments' + SEMESTER + '.txt', 'w')
    f.write(json.dumps(departments))
    f.close()


def get_department_courses(departmentId, dep_progress):
    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'origin': 'https://sess.shirazu.ac.ir',
        'upgrade-insecure-requests': '1',
        'content-type': 'application/x-www-form-urlencoded',
        'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3283227265579',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8',
        'cookie': '__derak_session=548b6955-f341-4b6b-cb87-c9490f9776d9; ASP.NET_SessionId=cfiz0q04bdsrmnjl3ewdxl2d',
    }

    data = {
        '__VIEWSTATE': '/wEPDwUKLTMzODEzMDYyOQ9kFgICAQ9kFgYCAQ9kFgoCBQ8WAh4JaW5uZXJodG1sBTfZhdit2YXYryDYqNin2LPYqtmK2YYgICrZhdmH2YbYr9iz2Yog2YPYp9mF2b7ZitmI2KrYsSAqZAIHDxYCHwAFO9in2KrYtdin2YQg2KfYsiDYt9ix2YrZgjrYtNio2qnZhyDYr9in2K7ZhNmKLdin2YrZhtiq2LHZhtiqZAIJD2QWAgIBD2QWAmYPFgIfAAUG27HbuduzZAILDxYCHgdWaXNpYmxlaGQCDQ8WAh8ABRk8Yj7bsduz27nbuC/bsNu2L9ux27M8L2I+ZAIDDxBkEBWvAQItLQ3Yr9mI2YUgLSAxMzk4Ddin2YjZhCAtIDEzOTgV2KrYp9io2LPYqtin2YYgLSAxMzk4Ddiv2YjZhSAtIDEzOTcN2KfZiNmEIC0gMTM5NxXYqtin2KjYs9iq2KfZhiAtIDEzOTcN2K/ZiNmFIC0gMTM5Ng3Yp9mI2YQgLSAxMzk2Fdiq2KfYqNiz2KrYp9mGIC0gMTM5Ng3Yr9mI2YUgLSAxMzk1Ddin2YjZhCAtIDEzOTUV2KrYp9io2LPYqtin2YYgLSAxMzk1Ddiv2YjZhSAtIDEzOTQN2KfZiNmEIC0gMTM5NBXYqtin2KjYs9iq2KfZhiAtIDEzOTQN2K/ZiNmFIC0gMTM5Mw3Yp9mI2YQgLSAxMzkzFdiq2KfYqNiz2KrYp9mGIC0gMTM5Mw3Yr9mI2YUgLSAxMzkyDdin2YjZhCAtIDEzOTIV2KrYp9io2LPYqtin2YYgLSAxMzkyDdiv2YjZhSAtIDEzOTEN2KfZiNmEIC0gMTM5MRXYqtin2KjYs9iq2KfZhiAtIDEzOTEN2K/ZiNmFIC0gMTM5MA3Yp9mI2YQgLSAxMzkwFdiq2KfYqNiz2KrYp9mGIC0gMTM5MA3Yr9mI2YUgLSAxMzg5Ddin2YjZhCAtIDEzODkV2KrYp9io2LPYqtin2YYgLSAxMzg5Ddiv2YjZhSAtIDEzODgN2KfZiNmEIC0gMTM4OBXYqtin2KjYs9iq2KfZhiAtIDEzODgN2K/ZiNmFIC0gMTM4Nw3Yp9mI2YQgLSAxMzg3Fdiq2KfYqNiz2KrYp9mGIC0gMTM4Nw3Yr9mI2YUgLSAxMzg2Ddin2YjZhCAtIDEzODYV2KrYp9io2LPYqtin2YYgLSAxMzg2Ddiv2YjZhSAtIDEzODUN2KfZiNmEIC0gMTM4NRXYqtin2KjYs9iq2KfZhiAtIDEzODUN2K/ZiNmFIC0gMTM4NA3Yp9mI2YQgLSAxMzg0Fdiq2KfYqNiz2KrYp9mGIC0gMTM4NA3Yr9mI2YUgLSAxMzgzDdin2YjZhCAtIDEzODMV2KrYp9io2LPYqtin2YYgLSAxMzgzDdiv2YjZhSAtIDEzODIN2KfZiNmEIC0gMTM4MhXYqtin2KjYs9iq2KfZhiAtIDEzODIN2K/ZiNmFIC0gMTM4MQ3Yp9mI2YQgLSAxMzgxFdiq2KfYqNiz2KrYp9mGIC0gMTM4MQ3Yr9mI2YUgLSAxMzgwDdin2YjZhCAtIDEzODAV2KrYp9io2LPYqtin2YYgLSAxMzgwDdiv2YjZhSAtIDEzNzkN2KfZiNmEIC0gMTM3ORXYqtin2KjYs9iq2KfZhiAtIDEzNzkN2K/ZiNmFIC0gMTM3OA3Yp9mI2YQgLSAxMzc4Fdiq2KfYqNiz2KrYp9mGIC0gMTM3OA3Yr9mI2YUgLSAxMzc3Ddin2YjZhCAtIDEzNzcV2KrYp9io2LPYqtin2YYgLSAxMzc3Ddiv2YjZhSAtIDEzNzYN2KfZiNmEIC0gMTM3NhXYqtin2KjYs9iq2KfZhiAtIDEzNzYN2K/ZiNmFIC0gMTM3NQ3Yp9mI2YQgLSAxMzc1Fdiq2KfYqNiz2KrYp9mGIC0gMTM3NQ3Yr9mI2YUgLSAxMzc0Ddin2YjZhCAtIDEzNzQV2KrYp9io2LPYqtin2YYgLSAxMzc0Ddiv2YjZhSAtIDEzNzMN2KfZiNmEIC0gMTM3MxXYqtin2KjYs9iq2KfZhiAtIDEzNzMN2K/ZiNmFIC0gMTM3Mg3Yp9mI2YQgLSAxMzcyFdiq2KfYqNiz2KrYp9mGIC0gMTM3Mg3Yr9mI2YUgLSAxMzcxDdin2YjZhCAtIDEzNzEV2KrYp9io2LPYqtin2YYgLSAxMzcxDdiv2YjZhSAtIDEzNzAN2KfZiNmEIC0gMTM3MBXYqtin2KjYs9iq2KfZhiAtIDEzNzAN2K/ZiNmFIC0gMTM2OQ3Yp9mI2YQgLSAxMzY5Fdiq2KfYqNiz2KrYp9mGIC0gMTM2OQ3Yr9mI2YUgLSAxMzY4Ddin2YjZhCAtIDEzNjgV2KrYp9io2LPYqtin2YYgLSAxMzY4Ddiv2YjZhSAtIDEzNjcN2KfZiNmEIC0gMTM2NxXYqtin2KjYs9iq2KfZhiAtIDEzNjcN2K/ZiNmFIC0gMTM2Ng3Yp9mI2YQgLSAxMzY2Fdiq2KfYqNiz2KrYp9mGIC0gMTM2Ng3Yr9mI2YUgLSAxMzY1Ddin2YjZhCAtIDEzNjUV2KrYp9io2LPYqtin2YYgLSAxMzY1Ddiv2YjZhSAtIDEzNjQN2KfZiNmEIC0gMTM2NBXYqtin2KjYs9iq2KfZhiAtIDEzNjQN2K/ZiNmFIC0gMTM2Mw3Yp9mI2YQgLSAxMzYzFdiq2KfYqNiz2KrYp9mGIC0gMTM2Mw3Yr9mI2YUgLSAxMzYyDdin2YjZhCAtIDEzNjIV2KrYp9io2LPYqtin2YYgLSAxMzYyDdiv2YjZhSAtIDEzNjEN2KfZiNmEIC0gMTM2MRXYqtin2KjYs9iq2KfZhiAtIDEzNjEN2K/ZiNmFIC0gMTM2MA3Yp9mI2YQgLSAxMzYwFdiq2KfYqNiz2KrYp9mGIC0gMTM2MA3Yr9mI2YUgLSAxMzU5Ddin2YjZhCAtIDEzNTkV2KrYp9io2LPYqtin2YYgLSAxMzU5Ddiv2YjZhSAtIDEzNTgN2KfZiNmEIC0gMTM1OBXYqtin2KjYs9iq2KfZhiAtIDEzNTgN2K/ZiNmFIC0gMTM1Nw3Yp9mI2YQgLSAxMzU3Fdiq2KfYqNiz2KrYp9mGIC0gMTM1Nw3Yr9mI2YUgLSAxMzU2Ddin2YjZhCAtIDEzNTYV2KrYp9io2LPYqtin2YYgLSAxMzU2Ddiv2YjZhSAtIDEzNTUN2KfZiNmEIC0gMTM1NRXYqtin2KjYs9iq2KfZhiAtIDEzNTUN2K/ZiNmFIC0gMTM1NA3Yp9mI2YQgLSAxMzU0Fdiq2KfYqNiz2KrYp9mGIC0gMTM1NA3Yr9mI2YUgLSAxMzUzDdin2YjZhCAtIDEzNTMV2KrYp9io2LPYqtin2YYgLSAxMzUzDdiv2YjZhSAtIDEzNTIN2KfZiNmEIC0gMTM1MhXYqtin2KjYs9iq2KfZhiAtIDEzNTIN2K/ZiNmFIC0gMTM1MQ3Yp9mI2YQgLSAxMzUxFdiq2KfYqNiz2KrYp9mGIC0gMTM1MQ3Yr9mI2YUgLSAxMzUwDdin2YjZhCAtIDEzNTAV2KrYp9io2LPYqtin2YYgLSAxMzUwDdiv2YjZhSAtIDEzNDkN2KfZiNmEIC0gMTM0ORXYqtin2KjYs9iq2KfZhiAtIDEzNDkN2K/ZiNmFIC0gMTM0OA3Yp9mI2YQgLSAxMzQ4Fdiq2KfYqNiz2KrYp9mGIC0gMTM0OA3Yr9mI2YUgLSAxMzQ3Ddin2YjZhCAtIDEzNDcV2KrYp9io2LPYqtin2YYgLSAxMzQ3Ddiv2YjZhSAtIDEzNDYN2KfZiNmEIC0gMTM0NhXYqtin2KjYs9iq2KfZhiAtIDEzNDYN2K/ZiNmFIC0gMTM0NQ3Yp9mI2YQgLSAxMzQ1Fdiq2KfYqNiz2KrYp9mGIC0gMTM0NQ3Yr9mI2YUgLSAxMzQ0Ddin2YjZhCAtIDEzNDQV2KrYp9io2LPYqtin2YYgLSAxMzQ0Ddiv2YjZhSAtIDEzNDMN2KfZiNmEIC0gMTM0MxXYqtin2KjYs9iq2KfZhiAtIDEzNDMN2K/ZiNmFIC0gMTM0Mg3Yp9mI2YQgLSAxMzQyFdiq2KfYqNiz2KrYp9mGIC0gMTM0Mg3Yr9mI2YUgLSAxMzQxDdin2YjZhCAtIDEzNDEV2KrYp9io2LPYqtin2YYgLSAxMzQxFa8BATAFMTM5ODIFMTM5ODEFMTM5ODAFMTM5NzIFMTM5NzEFMTM5NzAFMTM5NjIFMTM5NjEFMTM5NjAFMTM5NTIFMTM5NTEFMTM5NTAFMTM5NDIFMTM5NDEFMTM5NDAFMTM5MzIFMTM5MzEFMTM5MzAFMTM5MjIFMTM5MjEFMTM5MjAFMTM5MTIFMTM5MTEFMTM5MTAFMTM5MDIFMTM5MDEFMTM5MDAFMTM4OTIFMTM4OTEFMTM4OTAFMTM4ODIFMTM4ODEFMTM4ODAFMTM4NzIFMTM4NzEFMTM4NzAFMTM4NjIFMTM4NjEFMTM4NjAFMTM4NTIFMTM4NTEFMTM4NTAFMTM4NDIFMTM4NDEFMTM4NDAFMTM4MzIFMTM4MzEFMTM4MzAFMTM4MjIFMTM4MjEFMTM4MjAFMTM4MTIFMTM4MTEFMTM4MTAFMTM4MDIFMTM4MDEFMTM4MDAFMTM3OTIFMTM3OTEFMTM3OTAFMTM3ODIFMTM3ODEFMTM3ODAFMTM3NzIFMTM3NzEFMTM3NzAFMTM3NjIFMTM3NjEFMTM3NjAFMTM3NTIFMTM3NTEFMTM3NTAFMTM3NDIFMTM3NDEFMTM3NDAFMTM3MzIFMTM3MzEFMTM3MzAFMTM3MjIFMTM3MjEFMTM3MjAFMTM3MTIFMTM3MTEFMTM3MTAFMTM3MDIFMTM3MDEFMTM3MDAFMTM2OTIFMTM2OTEFMTM2OTAFMTM2ODIFMTM2ODEFMTM2ODAFMTM2NzIFMTM2NzEFMTM2NzAFMTM2NjIFMTM2NjEFMTM2NjAFMTM2NTIFMTM2NTEFMTM2NTAFMTM2NDIFMTM2NDEFMTM2NDAFMTM2MzIFMTM2MzEFMTM2MzAFMTM2MjIFMTM2MjEFMTM2MjAFMTM2MTIFMTM2MTEFMTM2MTAFMTM2MDIFMTM2MDEFMTM2MDAFMTM1OTIFMTM1OTEFMTM1OTAFMTM1ODIFMTM1ODEFMTM1ODAFMTM1NzIFMTM1NzEFMTM1NzAFMTM1NjIFMTM1NjEFMTM1NjAFMTM1NTIFMTM1NTEFMTM1NTAFMTM1NDIFMTM1NDEFMTM1NDAFMTM1MzIFMTM1MzEFMTM1MzAFMTM1MjIFMTM1MjEFMTM1MjAFMTM1MTIFMTM1MTEFMTM1MTAFMTM1MDIFMTM1MDEFMTM1MDAFMTM0OTIFMTM0OTEFMTM0OTAFMTM0ODIFMTM0ODEFMTM0ODAFMTM0NzIFMTM0NzEFMTM0NzAFMTM0NjIFMTM0NjEFMTM0NjAFMTM0NTIFMTM0NTEFMTM0NTAFMTM0NDIFMTM0NDEFMTM0NDAFMTM0MzIFMTM0MzEFMTM0MzAFMTM0MjIFMTM0MjEFMTM0MjAFMTM0MTIFMTM0MTEFMTM0MTAUKwOvAWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZAIFDxBkEBW+AQItLRfYqNiu2LQg2YPYp9mF2b7ZitmI2KrYsSrYqNiu2LQg2YXZh9mG2K/Ys9mKINmC2K/YsdiqINmIINmD2YbYqtix2YQ42KjYrti0INmF2YfZhtiv2LPZiiDZhdiu2KfYqNix2KfYqiDZiCDYp9mE2YPYqtix2YjZhtmK2YMP2KjYrti0INmF2YjYp9ivHNio2K7YtCDYtNmK2YXZiiDZhdmH2YbYr9iz2YoR2KjYrti0INi52YXYsdin2YYa2KjYrti0INiy2YrYs9iqINi02YbYp9iz2Yoc2KjYrti0INiy2YXZitmA2YYg2LTZhtin2LPZihHYqNiu2LQg2LHZitin2LbZig/YqNiu2LQg2KfZhdin2LEP2KjYrti0INi02YrZhdmKEdio2K7YtCDZgdmK2LLZitmDJNio2K7YtCDYp9mC2YDYqti12KfYr9mF2YbYrdmEINi02K/Zhy7YqNiu2LQg2KjZgNix2YbYp9mF2Ycg2LHZitiy2Yog2YXZhtit2YQg2LTYr9mHE9io2K7YtCDYqtmA2KfYsdmK2K4r2KjYrti0INix2YjYp9mG2LTZhtmA2KfYs9mKINmF2YbYrdmEINi02K/ZhyvYqNiu2LQg2LLYqNmA2KfZhiDZiNin2K/YqNmK2KfYqiDZgdin2LHYs9mKONio2K7YtCDYstio2YDYp9mG2YfYp9mKINiu2KfYsdis2Yog2YjYstio2KfZhiDYtNmG2KfYs9mKMtio2K7YtCDYudmE2YDZiNmFINmD2KrYp9io2K/Yp9ix2Yog2YXZhtit2YQg2LTYr9mHONio2K7YtCDZhdiv2YrZgNix2YrYqiDZiNit2LPYp9io2K/Yp9ix2Yog2YXZhtit2YQg2LTYr9mHKdio2K7YtCAg2LLYqNin2YYg2Ygg2KfYr9io2YrYp9iqINi52LHYqNmKFdio2K7YtCDYrNi62LHYp9mB2YrYpyrYqNiu2LQg2YHZhNiz2YHZhyDZiCDZg9mE2KfZhSDYp9iz2YTYp9mF2Yok2KjYrti0INi52YTZiNmFINmC2LHYotmG2Yog2Ygg2YHZgtmHJNio2K7YtCDYudmE2YjZhSDZiCDZhdmH2YbYr9iz2Yog2KLYqB7YqNiu2LQg2LnZhNmI2YUg2KjYp9i62KjYp9mG2Yom2KjYrti0INi52YTZiNmFINmIINmF2YfZhtiv2LPZiiDYrtin2YMr2KjYrti0INiy2LHYp9i52Kog2YjYp9i12YTYp9itINmG2KjYp9iq2KfYqhnYqNiu2LQg2q/Zitin2YfZvtiy2LTZg9mKIdio2K7YtCDYp9mC2KrYtdin2K/Zg9i02KfZiNix2LLZii3YqNiu2LQg2KrYsdmI2YrYrCDZiNin2YXZiNiy2LQg2YPYtNin2YjYsdiy2Yoa2KjYrti0INi52YTZgNmI2YUg2K/Yp9mF2Yo12KjYrti0INi52YTZiNmFINmIINmF2YfZhtiv2LPZiiDYtdmG2KfZiti5INi62LDYp9mK2Yok2KjYrti0INmF2YfZhtiv2LPZiiDYqNmK2YjYs9mK2LPYqtmFPtio2K7YtCDZhdmH2YbYr9iz2Yog2YXZhtin2KjYuSDYt9io2YrYudmKINmIINmF2K3Ziti3INiy2YrYs9iqHdio2K7YtCDYqNmK2YjYqtqp2YbZiNmE2YjamNmKJtio2K7YtCDYsdmI2KfZhti02YbYp9iz2Yog2KrYsdio2YrYqtmKONio2K7YtCDZhdiv2YrYsdmK2Kog2YjYqNix2YbYp9mF2Ycg2LHZitiy2Yog2KfZhdmI2LLYtNmKP9io2K7YtCDYp9mF2YjYsti0INmI2b7YsdmI2LHYtCDYr9io2LPYqtin2YbZiiDZiNm+INiv2KjYs9iq2KfZhiTYqNiu2LQg2YPZiNiv2YPYp9mGINin2LPYqtir2YbYp9mK2Yoa2KjYrti0INiq2LHYqNmK2Kog2KjYr9mG2Yoe2KjYrti0INi52YTZiNmFINiq2YDYsdio2YrYqtmKG9io2K7YtCDYsdmI2KfZhti02YbZgNin2LPZiijYqNiu2LQgKtiq2LHYqNmA2YrYqiDYqNiv2YbZiiDYtNio2KfZhtmHKdio2K7YtCDZhdio2KfZhtmKINiq2LnZhNmK2YUg2YjYqtix2KjZitiqM9io2K7YtCDYudmE2YUg2KfYt9mE2KfYudin2Kog2Ygg2K/Yp9mG2LQg2LTZhtin2LPZih3YqNiu2LQg2b7Yp9iq2YjYqNmK2YjZhNmI2pjZihjYqNiu2LQg2LnZhNmI2YUg2b7Yp9mK2Yci2KjYrti0INi52YTZiNmFINiv2LHZhdin2Ybar9in2YfZihPYqNiu2LQg2KjZh9iv2KfYtNiqF9io2K7YtCDYr9in2YXZvtiy2LTZg9mKKNio2K7YtCDZhdiv2YrYsdmK2KogINio2YfYr9in2LTYqiDYr9in2YUo2KjYrti0INmD2KfYsdiv2KfZhtmKINin2YTZg9iq2LHZiNmG2YrZgz3YqNiu2LQg2YPYp9ix2LTZhtin2LPZgNmKINmG2KfZvtmK2YjYs9iq2Ycg2KfZhNmD2KrYsdmI2YbZitmDM9io2K7YtCDZg9in2LHYr9in2YbZiiDYtNio2KfZhtmHINin2YTZg9iq2LHZiNmG2YrZg0DYqNiu2LQg2YPYp9ix2LTZhtin2LPZiiDYtNioINmG2KfZvtmK2YjYs9iq2Ycg2KfZhNmD2KrYsdmI2YbZitmDJtio2K7YtCDZg9mG2KrYsdmEINmI2KfYqNiy2KfYsdiv2YLZitmCD9io2K7YtCDYrdmC2YjZghrYqNiu2LQg2K3ZgtmI2YIg2LTYqNin2YbZhxrYqNiu2LQg2K3ZgtmI2YIg2LnZhdmI2YXZihrYqNiu2LQg2K3ZgtmI2YIg2K7YtdmI2LXZiiHYqNiu2LQg2K3ZgtmI2YIg2KjZitmGINin2YTZhdmE2YQa2KjYrti0INi52YTZiNmFINiz2YrYp9iz2Yoi2KjYrti0INis2LLYpyDZiCDYrNix2YUg2LTZhtin2LPZihHYqNiu2LQg2YrYp9iz2YjYrB7YqNiu2LQg2KrZiNmE2YrYr9in2Kog2K/Yp9mF2YoT2KjYrti0INmF2LnZhdin2LHZig3YqNiu2LQg2YfZhtixFdio2K7YtCDYtNmH2LHYs9in2LLZiiDYqNiu2LQg2KfYsdiq2KjYp9i3INiq2LXZiNmK2LHZig3YqNiu2LQg2YHYsdi0E9io2K7YtCDYp9mC2KrYtdin2K8e2KjYrti0INi52YTZiNmFINin2KzYqtmF2KfYudmKFNio2K7YtCDZhdiv2YrYsdmK2KogF9io2K7YtCDYrdiz2KfYqNiv2KfYsdmKFdio2K7YtCDYrNi62LHYp9mB2YrYpxzYqNiu2LQg2YXZh9mG2K/Ys9mKINi02YrZhdmKGtio2K7YtCDZhdmH2YbYr9iz2Yog2YbZgdiqGtio2K7YtCDZhdmH2YbYr9iz2Yog2q/Yp9iyINio2K7YtCDZhdmH2YXYp9mGINiq2KfYqNiz2KrYp9mGINio2K7YtCDYr9in2YbYtNqv2KfZhyDYtNmK2LHYp9iyGtio2K7YtCDYudmE2YjZhSDZvtiy2LTaqdmKGNio2K7YtCDYqNiv2YjZhiDYsdi02KrZhyXYqNiu2LQg2YbYp9mG2Ygg2YXZh9mG2K/Ys9mKINi02YrZhdmKKNio2K7YtCDZhtin2YbZiNmF2YfZhtiv2LPZiiDZhdqp2KfZhtmK2qkk2KjYrti0INmF2K/Zitix2YrYqiDYrNmH2KfZhtqv2LHYr9mKLdio2K7YtCDZhdmH2YbYr9iz2Yog2YXZg9in2YbZitmDINis2KfZhdiv2KfYqjvYqNiu2LQg2YXZh9mG2K/Ys9mKINmF2YPYp9mG2YrZgyDYrdix2KfYsdiqINmIINiz2YrYp9mE2KfYqi/YqNiu2LQg2YXZh9mG2K/Ys9mKINin2YbYsdqY2Yog2Ygg2YfZiNinINmB2LbYpyHYqNiu2LQg2YXZh9mG2K/Ys9mKINmH2LPYqtmHINin2Yoq2KjYrti0INmB2YTYs9mB2Ycg2Ygg2YPZhNin2YUg2KfYs9mE2KfZhdmKItio2K7YtCDYudmE2YjZhSDZgtix2KLZhiDZiCDZgdmC2Yce2KjYrti0INmF2LnYp9ix2YEg2KfYs9mE2KfZhdmKIdio2K7YtCDYs9in2LLZhyDZiCDZvtmK2LTYsdin2YbYtCjYqNiu2LQg2YfZitiv2LHZiCDYp9mK2LHZiNiv2YrZhtin2YXZitqpH9io2K7YtCDZh9iv2KfZitiqINmIINqp2YbYqtix2YQ/2KjYrti0INmF2LHaqdiyINiq2K3ZgtmK2YLYp9iqINit2YXZhCDZiCDZhtmC2YQg2Ygg2KrYsdin2YHZitqpJ9io2K7YtCDZg9i02KfZiNix2LLZiiDZgNiv2KfYsdin2Kgg2YDZgi3YqNiu2LQg2KrZiNmE2YrYr9in2Kog2q/Zitin2YfZiiDZgNiv2KfYsdin2Kgz2KjYrti0INiq2YPZhtmA2YjZhNmI2pjZiiDYp9io2YrYp9ix2Yog2YDYr9in2LHYp9ioNdio2K7YtCDYqtmD2YbZiNmE2YjamNmKINmF2LHYqti5INmI2KfYqNiu2YrYstiv2KfYsdmKGNio2K7YtCDYudmE2YjZhSDZvtin2YrZhx3YqNiu2LQg2Kfar9ix2YjYp9qp2YjZhNmI2pjZiiHYqNiu2LQg2YHYp9ix2LPZiiDZgCDZg9in2LLYsdmI2YYg2KjYrti0INmB2YrYstmK2qkgLSDaqdin2LLYsdmI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2LHamNmKO9io2K7YtCDZhdmH2YbYr9iz2Yog2YXaqdin2YbZitqpINit2LHYp9ix2Kog2Ygg2LPZitin2YTYp9iqHdio2K7YtCDZgtiv2LHYqiDZiCDZg9mG2KrYsdmEDdio2K7YtCDZh9mG2LEn2KjYrti0INmF2K/Zitix2YrYqiDYqNmH2K/Yp9i02Kog2K/Yp9mFItio2K7YtCDZhdiv2YrYsdmK2KogKNin2YXYp9ix2KfYqik02KjYrti0INix2YjYp9mG2LTZhtin2LPZiiDYqNin2YTZitmG2Yoo2KfZhdin2LHYp9iqKTnYqNiu2LQg2LLYqNin2YYg2Ygg2KfYr9io2YrYp9iqINmB2KfYsdiz2YogKNin2YXYp9ix2KfYqikl2KjYrti0INit2LPYp9io2K/Yp9ix2Yoo2KfZhdin2LHYp9iqKTXYqNiu2LQg2LHZiNin2YbYtNmG2KfYs9mKINiq2LHYqNmK2KrZiiAo2KfZhdin2LHYp9iqKR7YqNiu2LQg2K3ZgtmI2YIgKNin2YXYp9ix2KfYqik+2KjYrti0INit2YLZiNmCINi52YXZiNmF2Yog2Ygg2KjZitmGINin2YTZhdmE2YQgKNin2YXYp9ix2KfYqiky2KjYrti0INio2LHZgiDZiCDYp9mE2YPYqtix2YjZhtmK2YMgKNin2YXYp9ix2KfYqikw2KjYrti0INiy2KjYp9mGINmH2KfZiiDYrtin2LHYrNmKICjYp9mF2KfYsdin2KopMtio2K7YtCDZhdmH2YbYr9iz2Yog2qnYp9mF2b7ZitmI2KrYsSjYp9mF2KfYsdin2KopLtio2K7YtCDZhdmH2YbYr9iz2Yog2YXYudmF2KfYsdmKKNin2YXYp9ix2KfYqikv2KjYrti0INmF2K/Zitix2YrYqiDYotmF2YjYsti02YogKNin2YXYp9ix2KfYqiki2KjYrti0INin2YLYqti12KfYryAo2KfZhdin2LHYp9iqKSDYqNiu2LQg2LnZhdix2KfZhiAo2KfZhdin2LHYp9iqKSTYqNiu2LQg2K3ZgtmI2YIg2KzYstinKNin2YXYp9ix2KfYqikf2KjYrti0INi52YXZiNmF2Yoo2KfZhdin2LHYp9iqKRHYqNiu2LQg2LnZhdmI2YXZig/YqNiu2LQg2K3ZgtmI2YIN2KjYrti0INio2LHZgibYqNiu2LQg2KrZg9mG2YjZhNmI2pjZiiDYp9i32YTYp9i52KfYqhfYqNiu2LQg2qnYp9mF2b7ZitmI2KrYsSDYqNiu2LQg2LLYqNin2YbZh9in2Yog2K7Yp9ix2KzZiiTYqNiu2LQg2YXYr9mK2LHZitiqINis2YfYp9mG2q/Ysdiv2Yoe2KjYrti0INi52YTZiNmFINin2YLYqti12KfYr9mKFb4BATAEMjkwMwQyOTAxBDI5MDIEMTAwMgQxMDAzBDEwMDQEMTEwMQQxMTAyBDExMDMEMTEwNAQxMTA1BDExMDYEMTIwMQQxMjAyBDEyMDMEMTIwNAQxMjA1BDEyMDYEMTIwNwQxMjA4BDEyMTAEMTIxMQQxMjEyBDEyMTMEMTMwMQQxMzAyBDEzMDMEMTMwNAQxMzA1BDEzMDYEMTMwNwQxMzA4BDEzMDkEMTMxMAQxMzExBDEzMTIEMTQwMQQxNDAyBDE0MDMEMTQwNAQxNDA1BDE0MDYEMTQwNwQxNDA4BDE0MDkEMTQxMAQxNTAxBDE1MDIEMTUwMwQxNTA0BDE1MDUEMTUwNgQxNjAxBDE2MDIEMTYwMwQxNjA0BDE2MDUEMTcwMQQxNzAyBDE3MDMEMTcwNAQxNzA1BDE3MDYEMTcwNwQxODAxBDE5MDEEMjIwMQQyMjAyBDIyMDMEMjIwNAQyMjA1BDIzMDEEMjMwMgQyMzAzBDIzMDQEMjMwNQQyNDAxBDI0MDIEMjQwMwQyNTAxBDI4MDEEMjgwMgQyODAzBDMwMDEEMzAwMgQzMTAxBDMyMDEEMzIwMgQzMjAzBDMyMDQEMzQwMQQzNDAyBDM0MDMEMzUwMQQzNTAyBDM1MDMEMzYwMQQyMDAxBDIwMDIEMjAwMwQyMDA0BDIwMDUEMjAwNgQyMTAxBDIxMDIEMjEwMwQyNjAxBDI2MDIEMjYwMwQyNjA0BDI2MDUEMjYwNgQyNjA3BDI2MDgEMjYwOQQyNjEwBDI2MTEEMjYxMgQyNjEzBDI2MTQEMjYxNQQyNjE2BDI2MTcEMjYxOAQyNjE5BDI2MjAEMjYyMQQyNjIyBDI2MjMEMjYyNAQyNjI1BDI2MjYEMjYyNwQyNjI4BDI2MjkEMjYzMAQyNjMxBDI2MzIEMjYzMwQyNjM0BDI2MzUEMjYzNgQyNjM3BDI2MzgEMjYzOQQyNjQwBDI2NDEEMjY0MgQyNjQzBDI2NDQEMjY0NQQyNjQ2BDI2NDcEMjY0OAQyNjQ5BDI2NTAEMjY1MQQyNjUyBDI2NTMEMjY1NAQyNjU1BDI2NTYEMjY1NwQyNjU4BDI2NTkEMzMwMQQzMzAyBDMzMDMEMzMwNAQzMzA1BDMzMDYEMzMwNwQzMzA4BDMzMDkEMzMxMAQzMzExBDMzMTIEMzMxMwQzMzE0BDMzMTUEMzMxNgQyNzAxBDI3MDIEMjcwMwQyNzA0BDI3MDUEMjcwNgQyNzA3BDI3MDgUKwO+AWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZGRG36ICVqgcsulesYySH6zdmtthWEQRPpI1VhBk4VXr8A==',
        '__VIEWSTATEGENERATOR': 'D02604AD',
        '__EVENTVALIDATION': '/wEdAAVJcNmoveSOIP2wgbENOby56/R1CdSTRgr1D4vCUegGUZFB0O/9E5xLpcfo0i3k0CuMtpATfle4RqQS6XMgMUtAS1f8aOOWPGzSVWaY7KNHgHRtX5h6MJh/md3Dxp9ssJQVdMNbJGePbQFviGOsVAi6',
        'Banner1:zzChanel': '',
        'edSemester': SEMESTER,
        'edDepartment': departmentId,
        'Channel': 'Act=List;'
    }

    response = requests.post('https://sess.shirazu.ac.ir/Sess/3283227265579', headers=headers, data=data)

    soup = BeautifulSoup(response.text, "html.parser")
    courses_div = soup.find("div", {'id': "edList"})
    dep_courses = {}
    for course_tr in courses_div.contents:
        if course_tr == '\n':
            continue
        dep_courses[course_tr['ident']] = {
            'title': course_tr.contents[3].text,
            'group': course_tr['ident'].split('^')[1],
        }

    # Get department course times
    i = 0
    for course_ident in dep_courses.keys():
        print(str(i) + '/' + str(len(dep_courses)), dep_progress)
        dep_courses[course_ident].update(get_course_time_room(course_ident, departmentId))
        i += 1
    f = open(SEMESTER + '/' + departmentId + '.txt', 'w')
    f.write(json.dumps(dep_courses))
    f.close()


def get_courses():
    print('Getting Courses')
    f = open('departments' + SEMESTER + '.txt', 'r')
    departments = json.loads(f.read())
    f.close()

    for dep_index in range(0, len(departments)):
        dep_progress = str(dep_index) + '/' + str(len(departments))
        get_department_courses(departments[dep_index]['id'], dep_progress)


def set_session_course(courseIdent, departmentId):
    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'origin': 'https://sess.shirazu.ac.ir',
        'upgrade-insecure-requests': '1',
        'content-type': 'application/x-www-form-urlencoded',
        'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3283227265579',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8',
        'cookie': '__derak_session=548b6955-f341-4b6b-cb87-c9490f9776d9; ASP.NET_SessionId=cfiz0q04bdsrmnjl3ewdxl2d',
    }

    data = {
        '__VIEWSTATE': '/wEPDwUKLTMzODEzMDYyOQ9kFgICAQ9kFgYCAQ9kFgoCBQ8WAh4JaW5uZXJodG1sBTfZhdit2YXYryDYqNin2LPYqtmK2YYgICrZhdmH2YbYr9iz2Yog2YPYp9mF2b7ZitmI2KrYsSAqZAIHDxYCHwAFO9in2KrYtdin2YQg2KfYsiDYt9ix2YrZgjrYtNio2qnZhyDYr9in2K7ZhNmKLdin2YrZhtiq2LHZhtiqZAIJD2QWAgIBD2QWAmYPFgIfAAUG27HbuduzZAILDxYCHgdWaXNpYmxlaGQCDQ8WAh8ABRk8Yj7bsduz27nbuC/bsNu2L9ux27M8L2I+ZAIDDxBkEBWvAQItLQ3Yr9mI2YUgLSAxMzk4Ddin2YjZhCAtIDEzOTgV2KrYp9io2LPYqtin2YYgLSAxMzk4Ddiv2YjZhSAtIDEzOTcN2KfZiNmEIC0gMTM5NxXYqtin2KjYs9iq2KfZhiAtIDEzOTcN2K/ZiNmFIC0gMTM5Ng3Yp9mI2YQgLSAxMzk2Fdiq2KfYqNiz2KrYp9mGIC0gMTM5Ng3Yr9mI2YUgLSAxMzk1Ddin2YjZhCAtIDEzOTUV2KrYp9io2LPYqtin2YYgLSAxMzk1Ddiv2YjZhSAtIDEzOTQN2KfZiNmEIC0gMTM5NBXYqtin2KjYs9iq2KfZhiAtIDEzOTQN2K/ZiNmFIC0gMTM5Mw3Yp9mI2YQgLSAxMzkzFdiq2KfYqNiz2KrYp9mGIC0gMTM5Mw3Yr9mI2YUgLSAxMzkyDdin2YjZhCAtIDEzOTIV2KrYp9io2LPYqtin2YYgLSAxMzkyDdiv2YjZhSAtIDEzOTEN2KfZiNmEIC0gMTM5MRXYqtin2KjYs9iq2KfZhiAtIDEzOTEN2K/ZiNmFIC0gMTM5MA3Yp9mI2YQgLSAxMzkwFdiq2KfYqNiz2KrYp9mGIC0gMTM5MA3Yr9mI2YUgLSAxMzg5Ddin2YjZhCAtIDEzODkV2KrYp9io2LPYqtin2YYgLSAxMzg5Ddiv2YjZhSAtIDEzODgN2KfZiNmEIC0gMTM4OBXYqtin2KjYs9iq2KfZhiAtIDEzODgN2K/ZiNmFIC0gMTM4Nw3Yp9mI2YQgLSAxMzg3Fdiq2KfYqNiz2KrYp9mGIC0gMTM4Nw3Yr9mI2YUgLSAxMzg2Ddin2YjZhCAtIDEzODYV2KrYp9io2LPYqtin2YYgLSAxMzg2Ddiv2YjZhSAtIDEzODUN2KfZiNmEIC0gMTM4NRXYqtin2KjYs9iq2KfZhiAtIDEzODUN2K/ZiNmFIC0gMTM4NA3Yp9mI2YQgLSAxMzg0Fdiq2KfYqNiz2KrYp9mGIC0gMTM4NA3Yr9mI2YUgLSAxMzgzDdin2YjZhCAtIDEzODMV2KrYp9io2LPYqtin2YYgLSAxMzgzDdiv2YjZhSAtIDEzODIN2KfZiNmEIC0gMTM4MhXYqtin2KjYs9iq2KfZhiAtIDEzODIN2K/ZiNmFIC0gMTM4MQ3Yp9mI2YQgLSAxMzgxFdiq2KfYqNiz2KrYp9mGIC0gMTM4MQ3Yr9mI2YUgLSAxMzgwDdin2YjZhCAtIDEzODAV2KrYp9io2LPYqtin2YYgLSAxMzgwDdiv2YjZhSAtIDEzNzkN2KfZiNmEIC0gMTM3ORXYqtin2KjYs9iq2KfZhiAtIDEzNzkN2K/ZiNmFIC0gMTM3OA3Yp9mI2YQgLSAxMzc4Fdiq2KfYqNiz2KrYp9mGIC0gMTM3OA3Yr9mI2YUgLSAxMzc3Ddin2YjZhCAtIDEzNzcV2KrYp9io2LPYqtin2YYgLSAxMzc3Ddiv2YjZhSAtIDEzNzYN2KfZiNmEIC0gMTM3NhXYqtin2KjYs9iq2KfZhiAtIDEzNzYN2K/ZiNmFIC0gMTM3NQ3Yp9mI2YQgLSAxMzc1Fdiq2KfYqNiz2KrYp9mGIC0gMTM3NQ3Yr9mI2YUgLSAxMzc0Ddin2YjZhCAtIDEzNzQV2KrYp9io2LPYqtin2YYgLSAxMzc0Ddiv2YjZhSAtIDEzNzMN2KfZiNmEIC0gMTM3MxXYqtin2KjYs9iq2KfZhiAtIDEzNzMN2K/ZiNmFIC0gMTM3Mg3Yp9mI2YQgLSAxMzcyFdiq2KfYqNiz2KrYp9mGIC0gMTM3Mg3Yr9mI2YUgLSAxMzcxDdin2YjZhCAtIDEzNzEV2KrYp9io2LPYqtin2YYgLSAxMzcxDdiv2YjZhSAtIDEzNzAN2KfZiNmEIC0gMTM3MBXYqtin2KjYs9iq2KfZhiAtIDEzNzAN2K/ZiNmFIC0gMTM2OQ3Yp9mI2YQgLSAxMzY5Fdiq2KfYqNiz2KrYp9mGIC0gMTM2OQ3Yr9mI2YUgLSAxMzY4Ddin2YjZhCAtIDEzNjgV2KrYp9io2LPYqtin2YYgLSAxMzY4Ddiv2YjZhSAtIDEzNjcN2KfZiNmEIC0gMTM2NxXYqtin2KjYs9iq2KfZhiAtIDEzNjcN2K/ZiNmFIC0gMTM2Ng3Yp9mI2YQgLSAxMzY2Fdiq2KfYqNiz2KrYp9mGIC0gMTM2Ng3Yr9mI2YUgLSAxMzY1Ddin2YjZhCAtIDEzNjUV2KrYp9io2LPYqtin2YYgLSAxMzY1Ddiv2YjZhSAtIDEzNjQN2KfZiNmEIC0gMTM2NBXYqtin2KjYs9iq2KfZhiAtIDEzNjQN2K/ZiNmFIC0gMTM2Mw3Yp9mI2YQgLSAxMzYzFdiq2KfYqNiz2KrYp9mGIC0gMTM2Mw3Yr9mI2YUgLSAxMzYyDdin2YjZhCAtIDEzNjIV2KrYp9io2LPYqtin2YYgLSAxMzYyDdiv2YjZhSAtIDEzNjEN2KfZiNmEIC0gMTM2MRXYqtin2KjYs9iq2KfZhiAtIDEzNjEN2K/ZiNmFIC0gMTM2MA3Yp9mI2YQgLSAxMzYwFdiq2KfYqNiz2KrYp9mGIC0gMTM2MA3Yr9mI2YUgLSAxMzU5Ddin2YjZhCAtIDEzNTkV2KrYp9io2LPYqtin2YYgLSAxMzU5Ddiv2YjZhSAtIDEzNTgN2KfZiNmEIC0gMTM1OBXYqtin2KjYs9iq2KfZhiAtIDEzNTgN2K/ZiNmFIC0gMTM1Nw3Yp9mI2YQgLSAxMzU3Fdiq2KfYqNiz2KrYp9mGIC0gMTM1Nw3Yr9mI2YUgLSAxMzU2Ddin2YjZhCAtIDEzNTYV2KrYp9io2LPYqtin2YYgLSAxMzU2Ddiv2YjZhSAtIDEzNTUN2KfZiNmEIC0gMTM1NRXYqtin2KjYs9iq2KfZhiAtIDEzNTUN2K/ZiNmFIC0gMTM1NA3Yp9mI2YQgLSAxMzU0Fdiq2KfYqNiz2KrYp9mGIC0gMTM1NA3Yr9mI2YUgLSAxMzUzDdin2YjZhCAtIDEzNTMV2KrYp9io2LPYqtin2YYgLSAxMzUzDdiv2YjZhSAtIDEzNTIN2KfZiNmEIC0gMTM1MhXYqtin2KjYs9iq2KfZhiAtIDEzNTIN2K/ZiNmFIC0gMTM1MQ3Yp9mI2YQgLSAxMzUxFdiq2KfYqNiz2KrYp9mGIC0gMTM1MQ3Yr9mI2YUgLSAxMzUwDdin2YjZhCAtIDEzNTAV2KrYp9io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2KfYqNix2KfYqiDZiCDYp9mE2YPYqtix2YjZhtmK2YMP2KjYrti0INmF2YjYp9ivHNio2K7YtCDYtNmK2YXZiiDZhdmH2YbYr9iz2YoR2KjYrti0INi52YXYsdin2YYa2KjYrti0INiy2YrYs9iqINi02YbYp9iz2Yoc2KjYrti0INiy2YXZitmA2YYg2LTZhtin2LPZihHYqNiu2LQg2LHZitin2LbZig/YqNiu2LQg2KfZhdin2LEP2KjYrti0INi02YrZhdmKEdio2K7YtCDZgdmK2LLZitmDJNio2K7YtCDYp9mC2YDYqti12KfYr9mF2YbYrdmEINi02K/Zhy7YqNiu2LQg2KjZgNix2YbYp9mF2Ycg2LHZitiy2Yog2YXZhtit2YQg2LTYr9mHE9io2K7YtCDYqtmA2KfYsdmK2K4r2KjYrti0INix2YjYp9mG2LTZhtmA2KfYs9mKINmF2YbYrdmEINi02K/ZhyvYqNiu2LQg2LLYqNmA2KfZhiDZiNin2K/YqNmK2KfYqiDZgdin2LHYs9mKONio2K7YtCDYstio2YDYp9mG2YfYp9mKINiu2KfYsdis2Yog2YjYstio2KfZhiDYtNmG2KfYs9mKMtio2K7YtCDYudmE2YDZiNmFINmD2KrYp9io2K/Yp9ix2Yog2YXZhtit2YQg2LTYr9mHONio2K7YtCDZhdiv2YrZgNix2YrYqiDZiNit2LPYp9io2K/Yp9ix2Yog2YXZhtit2YQg2LTYr9mHKdio2K7YtCAg2LLYqNin2YYg2Ygg2KfYr9io2YrYp9iqINi52LHYqNmKFdio2K7YtCDYrNi62LHYp9mB2YrYpyrYqNiu2LQg2YHZhNiz2YHZhyDZiCDZg9mE2KfZhSDYp9iz2YTYp9mF2Yok2KjYrti0INi52YTZiNmFINmC2LHYotmG2Yog2Ygg2YHZgtmHJNio2K7YtCDYudmE2YjZhSDZiCDZhdmH2YbYr9iz2Yog2KLYqB7YqNiu2LQg2LnZhNmI2YUg2KjYp9i62KjYp9mG2Yom2KjYrti0INi52YTZiNmFINmIINmF2YfZhtiv2LPZiiDYrtin2YMr2KjYrti0INiy2LHYp9i52Kog2YjYp9i12YTYp9itINmG2KjYp9iq2KfYqhnYqNiu2LQg2q/Zitin2YfZvtiy2LTZg9mKIdio2K7YtCDYp9mC2KrYtdin2K/Zg9i02KfZiNix2LLZii3YqNiu2LQg2KrYsdmI2YrYrCDZiNin2YXZiNiy2LQg2YPYtNin2YjYsdiy2Yoa2KjYrti0INi52YTZgNmI2YUg2K/Yp9mF2Yo12KjYrti0INi52YTZiNmFINmIINmF2YfZhtiv2LPZiiDYtdmG2KfZiti5INi62LDYp9mK2Yok2KjYrti0INmF2YfZhtiv2LPZiiDYqNmK2YjYs9mK2LPYqtmFPtio2K7YtCDZhdmH2YbYr9iz2Yog2YXZhtin2KjYuSDYt9io2YrYudmKINmIINmF2K3Ziti3INiy2YrYs9iqHdio2K7YtCDYqNmK2YjYqtqp2YbZiNmE2YjamNmKJtio2K7YtCDYsdmI2KfZhti02YbYp9iz2Yog2KrYsdio2YrYqtmKONio2K7YtCDZhdiv2YrYsdmK2Kog2YjYqNix2YbYp9mF2Ycg2LHZitiy2Yog2KfZhdmI2LLYtNmKP9io2K7YtCDYp9mF2YjYsti0INmI2b7YsdmI2LHYtCDYr9io2LPYqtin2YbZiiDZiNm+INiv2KjYs9iq2KfZhiTYqNiu2LQg2YPZiNiv2YPYp9mGINin2LPYqtir2YbYp9mK2Yoa2KjYrti0INiq2LHYqNmK2Kog2KjYr9mG2Yoe2KjYrti0INi52YTZiNmFINiq2YDYsdio2YrYqtmKG9io2K7YtCDYsdmI2KfZhti02YbZgNin2LPZiijYqNiu2LQgKtiq2LHYqNmA2YrYqiDYqNiv2YbZiiDYtNio2KfZhtmHKdio2K7YtCDZhdio2KfZhtmKINiq2LnZhNmK2YUg2YjYqtix2KjZitiqM9io2K7YtCDYudmE2YUg2KfYt9mE2KfYudin2Kog2Ygg2K/Yp9mG2LQg2LTZhtin2LPZih3YqNiu2LQg2b7Yp9iq2YjYqNmK2YjZhNmI2pjZihjYqNiu2LQg2LnZhNmI2YUg2b7Yp9mK2Yci2KjYrti0INi52YTZiNmFINiv2LHZhdin2Ybar9in2YfZihPYqNiu2LQg2KjZh9iv2KfYtNiqF9io2K7YtCDYr9in2YXZvtiy2LTZg9mKKNio2K7YtCDZhdiv2YrYsdmK2KogINio2YfYr9in2LTYqiDYr9in2YUo2KjYrti0INmD2KfYsdiv2KfZhtmKINin2YTZg9iq2LHZiNmG2YrZgz3YqNiu2LQg2YPYp9ix2LTZhtin2LPZgNmKINmG2KfZvtmK2YjYs9iq2Ycg2KfZhNmD2KrYsdmI2YbZitmDM9io2K7YtCDZg9in2LHYr9in2YbZiiDYtNio2KfZhtmHINin2YTZg9iq2LHZiNmG2YrZg0DYqNiu2LQg2YPYp9ix2LTZhtin2LPZiiDYtNioINmG2KfZvtmK2YjYs9iq2Ycg2KfZhNmD2KrYsdmI2YbZitmDJtio2K7YtCDZg9mG2KrYsdmEINmI2KfYqNiy2KfYsdiv2YLZitmCD9io2K7YtCDYrdmC2YjZghrYqNiu2LQg2K3ZgtmI2YIg2LTYqNin2YbZhxrYqNiu2LQg2K3ZgtmI2YIg2LnZhdmI2YXZihrYqNiu2LQg2K3ZgtmI2YIg2K7YtdmI2LXZiiHYqNiu2LQg2K3ZgtmI2YIg2KjZitmGINin2YTZhdmE2YQa2KjYrti0INi52YTZiNmFINiz2YrYp9iz2Yoi2KjYrti0INis2LLYpyDZiCDYrNix2YUg2LTZhtin2LPZihHYqNiu2LQg2YrYp9iz2YjYrB7YqNiu2LQg2KrZiNmE2YrYr9in2Kog2K/Yp9mF2YoT2KjYrti0INmF2LnZhdin2LHZig3YqNiu2LQg2YfZhtixFdio2K7YtCDYtNmH2LHYs9in2LLZiiDYqNiu2LQg2KfYsdiq2KjYp9i3INiq2LXZiNmK2LHZig3YqNiu2LQg2YHYsdi0E9io2K7YtCDYp9mC2KrYtdin2K8e2KjYrti0INi52YTZiNmFINin2KzYqtmF2KfYudmKFNio2K7YtCDZhdiv2YrYsdmK2KogF9io2K7YtCDYrdiz2KfYqNiv2KfYsdmKFdio2K7YtCDYrNi62LHYp9mB2YrYpxzYqNiu2LQg2YXZh9mG2K/Ys9mKINi02YrZhdmKGtio2K7YtCDZhdmH2YbYr9iz2Yog2YbZgdiqGtio2K7YtCDZhdmH2YbYr9iz2Yog2q/Yp9iyINio2K7YtCDZhdmH2YXYp9mGINiq2KfYqNiz2KrYp9mGINio2K7YtCDYr9in2YbYtNqv2KfZhyDYtNmK2LHYp9iyGtio2K7YtCDYudmE2YjZhSDZvtiy2LTaqdmKGNio2K7YtCDYqNiv2YjZhiDYsdi02KrZhyXYqNiu2LQg2YbYp9mG2Ygg2YXZh9mG2K/Ys9mKINi02YrZhdmKKNio2K7YtCDZhtin2YbZiNmF2YfZhtiv2LPZiiDZhdqp2KfZhtmK2qkk2KjYrti0INmF2K/Zitix2YrYqiDYrNmH2KfZhtqv2LHYr9mKLdio2K7YtCDZhdmH2YbYr9iz2Yog2YXZg9in2YbZitmDINis2KfZhdiv2KfYqjvYqNiu2LQg2YXZh9mG2K/Ys9mKINmF2YPYp9mG2YrZgyDYrdix2KfYsdiqINmIINiz2YrYp9mE2KfYqi/YqNiu2LQg2YXZh9mG2K/Ys9mKINin2YbYsdqY2Yog2Ygg2YfZiNinINmB2LbYpyHYqNiu2LQg2YXZh9mG2K/Ys9mKINmH2LPYqtmHINin2Yoq2KjYrti0INmB2YTYs9mB2Ycg2Ygg2YPZhNin2YUg2KfYs9mE2KfZhdmKItio2K7YtCDYudmE2YjZhSDZgtix2KLZhiDZiCDZgdmC2Yce2KjYrti0INmF2LnYp9ix2YEg2KfYs9mE2KfZhdmKIdio2K7YtCDYs9in2LLZhyDZiCDZvtmK2LTYsdin2YbYtCjYqNiu2LQg2YfZitiv2LHZiCDYp9mK2LHZiNiv2YrZhtin2YXZitqpH9io2K7YtCDZh9iv2KfZitiqINmIINqp2YbYqtix2YQ/2KjYrti0INmF2LHaqdiyINiq2K3ZgtmK2YLYp9iqINit2YXZhCDZiCDZhtmC2YQg2Ygg2KrYsdin2YHZitqpJ9io2K7YtCDZg9i02KfZiNix2LLZiiDZgNiv2KfYsdin2Kgg2YDZgi3YqNiu2LQg2KrZiNmE2YrYr9in2Kog2q/Zitin2YfZiiDZgNiv2KfYsdin2Kgz2KjYrti0INiq2YPZhtmA2YjZhNmI2pjZiiDYp9io2YrYp9ix2Yog2YDYr9in2LHYp9ioNdio2K7YtCDYqtmD2YbZiNmE2YjamNmKINmF2LHYqti5INmI2KfYqNiu2YrYstiv2KfYsdmKGNio2K7YtCDYudmE2YjZhSDZvtin2YrZhx3YqNiu2LQg2Kfar9ix2YjYp9qp2YjZhNmI2pjZiiHYqNiu2LQg2YHYp9ix2LPZiiDZgCDZg9in2LLYsdmI2YYg2KjYrti0INmB2YrYstmK2qkgLSDaqdin2LLYsdmI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2LHamNmKO9io2K7YtCDZhdmH2YbYr9iz2Yog2YXaqdin2YbZitqpINit2LHYp9ix2Kog2Ygg2LPZitin2YTYp9iqHdio2K7YtCDZgtiv2LHYqiDZiCDZg9mG2KrYsdmEDdio2K7YtCDZh9mG2LEn2KjYrti0INmF2K/Zitix2YrYqiDYqNmH2K/Yp9i02Kog2K/Yp9mFItio2K7YtCDZhdiv2YrYsdmK2KogKNin2YXYp9ix2KfYqik02KjYrti0INix2YjYp9mG2LTZhtin2LPZiiDYqNin2YTZitmG2Yoo2KfZhdin2LHYp9iqKTnYqNiu2LQg2LLYqNin2YYg2Ygg2KfYr9io2YrYp9iqINmB2KfYsdiz2YogKNin2YXYp9ix2KfYqikl2KjYrti0INit2LPYp9io2K/Yp9ix2Yoo2KfZhdin2LHYp9iqKTXYqNiu2LQg2LHZiNin2YbYtNmG2KfYs9mKINiq2LHYqNmK2KrZiiAo2KfZhdin2LHYp9iqKR7YqNiu2LQg2K3ZgtmI2YIgKNin2YXYp9ix2KfYqik+2KjYrti0INit2YLZiNmCINi52YXZiNmF2Yog2Ygg2KjZitmGINin2YTZhdmE2YQgKNin2YXYp9ix2KfYqiky2KjYrti0INio2LHZgiDZiCDYp9mE2YPYqtix2YjZhtmK2YMgKNin2YXYp9ix2KfYqikw2KjYrti0INiy2KjYp9mGINmH2KfZiiDYrtin2LHYrNmKICjYp9mF2KfYsdin2KopMtio2K7YtCDZhdmH2YbYr9iz2Yog2qnYp9mF2b7ZitmI2KrYsSjYp9mF2KfYsdin2KopLtio2K7YtCDZhdmH2YbYr9iz2Yog2YXYudmF2KfYsdmKKNin2YXYp9ix2KfYqikv2KjYrti0INmF2K/Zitix2YrYqiDYotmF2YjYsti02YogKNin2YXYp9ix2KfYqiki2KjYrti0INin2YLYqti12KfYryAo2KfZhdin2LHYp9iqKSDYqNiu2LQg2LnZhdix2KfZhiAo2KfZhdin2LHYp9iqKSTYqNiu2LQg2K3ZgtmI2YIg2KzYstinKNin2YXYp9ix2KfYqikf2KjYrti0INi52YXZiNmF2Yoo2KfZhdin2LHYp9iqKRHYqNiu2LQg2LnZhdmI2YXZig/YqNiu2LQg2K3ZgtmI2YIN2KjYrti0INio2LHZgibYqNiu2LQg2KrZg9mG2YjZhNmI2pjZiiDYp9i32YTYp9i52KfYqhfYqNiu2LQg2qnYp9mF2b7ZitmI2KrYsSDYqNiu2LQg2LLYqNin2YbZh9in2Yog2K7Yp9ix2KzZiiTYqNiu2LQg2YXYr9mK2LHZitiqINis2YfYp9mG2q/Ysdiv2Yoe2KjYrti0INi52YTZiNmFINin2YLYqti12KfYr9mKFb4BATAEMjkwMwQyOTAxBDI5MDIEMTAwMgQxMDAzBDEwMDQEMTEwMQQxMTAyBDExMDMEMTEwNAQxMTA1BDExMDYEMTIwMQQxMjAyBDEyMDMEMTIwNAQxMjA1BDEyMDYEMTIwNwQxMjA4BDEyMTAEMTIxMQQxMjEyBDEyMTMEMTMwMQQxMzAyBDEzMDMEMTMwNAQxMzA1BDEzMDYEMTMwNwQxMzA4BDEzMDkEMTMxMAQxMzExBDEzMTIEMTQwMQQxNDAyBDE0MDMEMTQwNAQxNDA1BDE0MDYEMTQwNwQxNDA4BDE0MDkEMTQxMAQxNTAxBDE1MDIEMTUwMwQxNTA0BDE1MDUEMTUwNgQxNjAxBDE2MDIEMTYwMwQxNjA0BDE2MDUEMTcwMQQxNzAyBDE3MDMEMTcwNAQxNzA1BDE3MDYEMTcwNwQxODAxBDE5MDEEMjIwMQQyMjAyBDIyMDMEMjIwNAQyMjA1BDIzMDEEMjMwMgQyMzAzBDIzMDQEMjMwNQQyNDAxBDI0MDIEMjQwMwQyNTAxBDI4MDEEMjgwMgQyODAzBDMwMDEEMzAwMgQzMTAxBDMyMDEEMzIwMgQzMjAzBDMyMDQEMzQwMQQzNDAyBDM0MDMEMzUwMQQzNTAyBDM1MDMEMzYwMQQyMDAxBDIwMDIEMjAwMwQyMDA0BDIwMDUEMjAwNgQyMTAxBDIxMDIEMjEwMwQyNjAxBDI2MDIEMjYwMwQyNjA0BDI2MDUEMjYwNgQyNjA3BDI2MDgEMjYwOQQyNjEwBDI2MTEEMjYxMgQyNjEzBDI2MTQEMjYxNQQyNjE2BDI2MTcEMjYxOAQyNjE5BDI2MjAEMjYyMQQyNjIyBDI2MjMEMjYyNAQyNjI1BDI2MjYEMjYyNwQyNjI4BDI2MjkEMjYzMAQyNjMxBDI2MzIEMjYzMwQyNjM0BDI2MzUEMjYzNgQyNjM3BDI2MzgEMjYzOQQyNjQwBDI2NDEEMjY0MgQyNjQzBDI2NDQEMjY0NQQyNjQ2BDI2NDcEMjY0OAQyNjQ5BDI2NTAEMjY1MQQyNjUyBDI2NTMEMjY1NAQyNjU1BDI2NTYEMjY1NwQyNjU4BDI2NTkEMzMwMQQzMzAyBDMzMDMEMzMwNAQzMzA1BDMzMDYEMzMwNwQzMzA4BDMzMDkEMzMxMAQzMzExBDMzMTIEMzMxMwQzMzE0BDMzMTUEMzMxNgQyNzAxBDI3MDIEMjcwMwQyNzA0BDI3MDUEMjcwNgQyNzA3BDI3MDgUKwO+AWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZGRG36ICVqgcsulesYySH6zdmtthWEQRPpI1VhBk4VXr8A==',
        '__VIEWSTATEGENERATOR': 'D02604AD',
        '__EVENTVALIDATION': '/wEdAAVJcNmoveSOIP2wgbENOby56/R1CdSTRgr1D4vCUegGUZFB0O/9E5xLpcfo0i3k0CuMtpATfle4RqQS6XMgMUtAS1f8aOOWPGzSVWaY7KNHgHRtX5h6MJh/md3Dxp9ssJQVdMNbJGePbQFviGOsVAi6',
        'Banner1:zzChanel': '',
        'edSemester': SEMESTER,
        'edDepartment': departmentId,
        'Channel': 'Act=Edit;Ident=' + str(courseIdent) + ';'
    }

    response = requests.post('https://sess.shirazu.ac.ir/Sess/3283227265579', headers=headers, data=data)
    # soup = BeautifulSoup(response.text, "html.parser")
    # print(soup)


def get_course_time_room(courseIdent, departmentId):
    set_session_course(courseIdent, departmentId)

    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'none',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3283227265579',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8',
        'cookie': '__derak_session=548b6955-f341-4b6b-cb87-c9490f9776d9; ASP.NET_SessionId=cfiz0q04bdsrmnjl3ewdxl2d',
    }

    response = requests.get('https://sess.shirazu.ac.ir/Sess/3172266095820', headers=headers)

    soup = BeautifulSoup(response.text, "html.parser")
    time_room_div = soup.find("div", {'id': "edTimeRoom"})
    teacher_div = soup.find("div", {'id': "edTch"})
    gender_div = soup.find("div", {'id': "edSex"})
    final_date_div = soup.find("div", {'id': "edFinalDate"})
    vahed_div = soup.find("div", {'id': "edTotalUnit"})
    unit_div = soup.find("div", {'id': "edUnit"})

    return {
        'time_room': '\n'.join([x for x in time_room_div.contents if type(x) is bs4.element.NavigableString]),
        'teacher': teacher_div.text,
        'gender': gender_div.text,
        'final_date': final_date_div.text,
        'vahed': vahed_div.text,
        'unit': unit_div.text
    }


def join_data():
    f = open('departments' + SEMESTER + '.txt', 'r')
    departments = json.loads(f.read())
    f.close()
    final_data = []
    for dep in departments:

        f = open(SEMESTER + '/' + dep['id'] + '.txt', 'r')
        courses = json.loads(f.read())
        f.close()

        courses_final = []
        for c in courses:
            objc = {'ident': c}
            objc.update(courses[c])
            courses_final.append(objc)

        final_data.append({
            'id': dep['id'],
            'title': dep['title'],
            'courses': courses_final
        })

    f = open(SEMESTER + '.txt', 'w')
    f.write(json.dumps(final_data))
    f.close()


get_departments()
get_courses()
join_data()
